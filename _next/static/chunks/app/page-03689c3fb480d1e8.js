(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1825:function(t,e,a){Promise.resolve().then(a.bind(a,6486))},6486:function(t,e,a){"use strict";a.d(e,{default:function(){return N}});var r=a(7437),n=a(2265),o=a(1448),i=a(2691);let E={Y_AXIS_COMPRESSION:{NORMAL:.5,REMAIN:.4,SUBSEQUENT:.8},ANIMATION:{FLOAT_SPEED_INITIAL:.001,FLOAT_SPEED_NORMAL:.002,SPEED_MULTIPLIER_FAST:.01,SPEED_MULTIPLIER_NORMAL:.05,RANDOM_OFFSET_INITIAL:.001,RANDOM_OFFSET_NORMAL:.001,FLOAT_AMOUNT_RATIO:.08,DISTANCE_THRESHOLD:.1,ROTATION_SPEED:.05},EXPLOSION:{DISTANCE_RATIOS:{1:.35,2:.75,3:.75},Z_RANGES:{1:[-13,-10],2:[-10,-6],3:[-6,-2]},MIN_DISTANCE_RATIO:.2,MIN_DISTANCE_RATIO_PHASE3:.3,TYPE_MULTIPLIERS:{corner:.85,remain:.7,normal:1},FAST_SPEED_MULTIPLIERS:{corner:1.4,remain:1.3,normal:1.5},RANDOM_OFFSET_MULTIPLIER_PHASE2:.15,RANDOM_OFFSET_MULTIPLIER_NORMAL:.05,RANDOM_RADIUS_MULTIPLIER_PHASE2:.25,RANDOM_RADIUS_MULTIPLIER_NORMAL:.04},LINE:{COUNT:100,LENGTH_MIN:8,LENGTH_MAX:13,ELLIPSE_RADIUS_X:2.5,ELLIPSE_RADIUS_Y:1.2,ELLIPSE_RADIUS_Z:1.8,VERTICAL_OFFSET:-2,INITIAL_Z_MIN:-15,INITIAL_Z_MAX:-13,CORNER_COUNT:8,REMAIN_COUNT:5},FAST_LINES:{DIRECTION_COUNT:8,LINES_PER_DIRECTION:1.5},SCREEN:{EDGE_MARGIN:1.1,MIN_DISTANCE:.001},SECOND_EXPLOSION_NEW_LINES:{MIN_COUNT:10,MAX_COUNT:25}};var I=t=>{let{onExplosionPhaseChange:e}=t,a=(0,n.useRef)(null),I=(0,n.useRef)(),N=(0,n.useRef)(),M=(0,n.useRef)(),l=(0,n.useRef)(),S=(0,n.useRef)(),s=(0,n.useRef)([]),O=(0,n.useRef)(),_=(0,n.useRef)(0),[h,A]=(0,n.useState)(0),d=t=>{if(!t)return 15;let e=t.position.z,a=t.fov,r=t.aspect,n=2*Math.tan(o.M8C.degToRad(a)/2)*e;return Math.max(n*r,n)},c=(t,e,a)=>{if(Math.sqrt(t.x*t.x+t.y*t.y)>E.SCREEN.MIN_DISTANCE)return new o.Pa4(t.x,t.y,0).normalize();if(e){let t=new o.Pa4(e.x,e.y,0);if(t.length()>E.SCREEN.MIN_DISTANCE)return t.normalize()}let r=null!=a?a:Math.random()*Math.PI*2;return new o.Pa4(Math.cos(r),Math.sin(r),0)},L=()=>{let t=new o.ZAu,e=[];for(let a=0;a<E.LINE.COUNT;a++){let a=E.LINE.LENGTH_MIN+Math.random()*(E.LINE.LENGTH_MAX-E.LINE.LENGTH_MIN),r=new o.nls({color:16777215}),n=new o.u9r,i=new Float32Array(6),I=Math.random()*Math.PI*2,N=.7*Math.random()+.3,M=Math.cos(I)*E.LINE.ELLIPSE_RADIUS_X*N,l=Math.sin(I)*E.LINE.ELLIPSE_RADIUS_Y*N*.8+E.LINE.VERTICAL_OFFSET,S=E.LINE.INITIAL_Z_MIN+Math.random()*(E.LINE.INITIAL_Z_MAX-E.LINE.INITIAL_Z_MIN),s=(Math.random()-.5)*2,O=(Math.random()-.5)*.8,_=(Math.random()-.5)*2,h=Math.sqrt(s*s+O*O+_*_),A=s/h,d=O/h,c=_/h,L=a/2,P=M-A*L,T=l-d*L,m=S-c*L,R=M+A*L,u=l+d*L,p=S+c*L;i[0]=P,i[1]=T,i[2]=m,i[3]=R,i[4]=u,i[5]=p,n.setAttribute("position",new o.TlE(i,3));let x=new o.x12(n,r);t.add(x),e.push({object:x,originalMid:new o.Pa4(M,l,S),originalDir:new o.Pa4(A,d,c),length:a,exploded:!1,targetPosition:null,targetRotation:null,type:"normal",phase:0,fastSpeed:!1,isFloating:!1})}return s.current=e,t},P=(t,e)=>{if(!e)return!1;let a=t.object.position;return Math.sqrt(a.x*a.x+a.y*a.y)<=d(e)*E.SCREEN.EDGE_MARGIN},T=()=>{let t=!0,e=s.current,a=M.current,r=_.current;return e.forEach(e=>{let n=e.object.position;if(0===r){let t=e.object.geometry.attributes.position;if(t){let a=t.array,r=(a[0]+a[3])/2,n=(a[1]+a[4])/2;a[2],a[5];let i=c(new o.Pa4(r,n,0),e.originalDir).clone().multiplyScalar(E.ANIMATION.FLOAT_SPEED_INITIAL);a[0]+=i.x,a[1]+=i.y*E.Y_AXIS_COMPRESSION.SUBSEQUENT,a[3]+=i.x,a[4]+=i.y*E.Y_AXIS_COMPRESSION.SUBSEQUENT;let I=(Math.random()-.5)*E.ANIMATION.RANDOM_OFFSET_INITIAL,N=(Math.random()-.5)*E.ANIMATION.RANDOM_OFFSET_INITIAL;a[0]+=I,a[1]+=N*E.Y_AXIS_COMPRESSION.SUBSEQUENT,a[3]+=I,a[4]+=N*E.Y_AXIS_COMPRESSION.SUBSEQUENT,t.needsUpdate=!0}}else if(e.exploded){if(e.targetPosition){let r=e.targetPosition,i=e.fastSpeed&&2===e.phase?E.ANIMATION.SPEED_MULTIPLIER_FAST:E.ANIMATION.SPEED_MULTIPLIER_NORMAL,I=new o.Pa4().subVectors(r,n).multiplyScalar(i);if(n.add(I),"corner"===e.type&&e.targetRotation&&1===e.phase){let t=E.ANIMATION.ROTATION_SPEED;e.object.rotation.x+=(e.targetRotation.x-e.object.rotation.x)*t,e.object.rotation.y+=(e.targetRotation.y-e.object.rotation.y)*t,e.object.rotation.z+=(e.targetRotation.z-e.object.rotation.z)*t}n.distanceTo(r)>E.ANIMATION.DISTANCE_THRESHOLD?t=!1:(e.targetPosition=null,P(e,a)&&(e.isFloating=!0))}if(e.isFloating&&P(e,a)){let t=c(n,e.originalDir).clone().multiplyScalar(E.ANIMATION.FLOAT_SPEED_NORMAL);n.x+=t.x,n.y+=t.y*E.Y_AXIS_COMPRESSION.SUBSEQUENT;let a=(Math.random()-.5)*E.ANIMATION.RANDOM_OFFSET_NORMAL,r=(Math.random()-.5)*E.ANIMATION.RANDOM_OFFSET_NORMAL;n.x+=a,n.y+=r*E.Y_AXIS_COMPRESSION.SUBSEQUENT}else e.isFloating&&!P(e,a)&&(e.isFloating=!1)}}),t};return(0,n.useEffect)(()=>{let t=a.current;if(!t)return;let r=new o.xsS;r.background=new o.Ilk(0),I.current=r;let n=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);n.position.z=15,M.current=n;let h=new o.CP7({antialias:!0});h.setSize(window.innerWidth,window.innerHeight),t.appendChild(h.domElement),N.current=h;let P=new i.z(n,h.domElement);P.enableDamping=!0,P.dampingFactor=.05,l.current=P;let m=L();r.add(m),S.current=m;let R=new o.Mig(16777215,.5);r.add(R);let u=new o.Ox3(16777215,.8);u.position.set(1,1,1),r.add(u);let p=()=>{if(0!==_.current)return;_.current=1,A(1),null==e||e(1);let t=s.current,a=M.current,r=[],n=[],i=d(a),I=E.EXPLOSION.DISTANCE_RATIOS[1]||.35;for(let e=0;e<E.LINE.CORNER_COUNT;e++){let e=Math.floor(Math.random()*t.length);r.includes(e)||(r.push(e),t[e].type="corner")}for(let e=0;e<E.LINE.REMAIN_COUNT;e++){let e;do e=Math.floor(Math.random()*t.length);while(r.includes(e));n.push(e),t[e].type="remain"}for(let e=0;e<t.length;e++)r.includes(e)||n.includes(e)||(t[e].type="normal");t.forEach(t=>{if(0===t.object.position.z){let e=t.object.geometry.attributes.position;if(e){let a=e.array,r=(a[0]+a[3])/2,n=(a[1]+a[4])/2,o=(a[2]+a[5])/2;t.object.position.set(r,n,o);let i=t.length/2,E=t.originalDir.x*i,I=t.originalDir.y*i,N=t.originalDir.z*i;a[0]=-E,a[1]=-I,a[2]=-N,a[3]=E,a[4]=I,a[5]=N,e.needsUpdate=!0}}switch(t.exploded=!0,t.phase=1,t.isFloating=!1,t.type){case"corner":let e=E.EXPLOSION.Z_RANGES[1][0]+Math.random()*(E.EXPLOSION.Z_RANGES[1][1]-E.EXPLOSION.Z_RANGES[1][0]),a=i*I*.8*(.7+.3*Math.random()),[r,n]={0:[.5*Math.PI,Math.PI],1:[0,.5*Math.PI],2:[Math.PI,1.5*Math.PI],3:[1.5*Math.PI,2*Math.PI]}[Math.floor(4*Math.random())],N=r+Math.random()*(n-r);t.targetPosition=new o.Pa4(Math.cos(N)*a,Math.sin(N)*a,e),t.targetRotation=new o.USm(.5*Math.random()-.25,.5*Math.random()-.25,.5*Math.random()-.25);break;case"remain":let M=1.5+Math.random(),l=Math.random()*Math.PI*2,S=E.EXPLOSION.Z_RANGES[1][0]+Math.random()*(E.EXPLOSION.Z_RANGES[1][1]-E.EXPLOSION.Z_RANGES[1][0]);t.targetPosition=new o.Pa4(t.originalMid.x+Math.cos(l)*M,t.originalMid.y+Math.sin(l)*M*E.Y_AXIS_COMPRESSION.REMAIN,S);break;case"normal":let s=E.EXPLOSION.Z_RANGES[1][0]+Math.random()*(E.EXPLOSION.Z_RANGES[1][1]-E.EXPLOSION.Z_RANGES[1][0]),O=i*I*.9*(.6+.4*Math.random()),_=Math.max(.2*O,O+O*(Math.random()-.5)*1.4+O*(Math.random()-.5)*.6*(Math.random()>.7?-1:1)),h=Math.random()*Math.PI*2+(Math.random()-.5)*1.4;t.targetPosition=new o.Pa4(Math.cos(h)*_,Math.sin(h)*_*E.Y_AXIS_COMPRESSION.NORMAL,s)}})},x=t=>{let e=s.current,a=M.current,r=(t,e,a,r)=>{let n;if(r)n=a+Math.random()*(a-e)*.3;else{let r=a-e;if(t<e)n=e+Math.random()*r*.5;else if(t>a)n=Math.max(a,t+.5*Math.random());else{let a=(t-e)/r+.2;n=e+Math.min(1,a+Math.random()*(1-a)*.5)*r}}return Math.max(e-1,Math.min(n=Math.min(n=Math.max(t+.3,n),a+1)+(Math.random()-.5)*.2,a+1))},n=d(a),i=E.EXPLOSION.DISTANCE_RATIOS[t]||.25;if(2===t||3===t){e.forEach(t=>{t.fastSpeed=!1});let t=E.FAST_LINES.DIRECTION_COUNT,a=2*Math.PI/t,r=Array.from({length:t},()=>[]);e.forEach(e=>{let o=e.object.position,i=Math.sqrt(o.x*o.x+o.y*o.y);if(i>n*E.SCREEN.EDGE_MARGIN)return;let I=Math.atan2(o.y,o.x);I<0&&(I+=2*Math.PI),r[Math.floor(I/a)%t].push({line:e,distance:i,edgeProximity:i/n,angle:I})});let o=Math.floor(t*E.FAST_LINES.LINES_PER_DIRECTION),i=[];if(r.forEach((t,e)=>{t.sort((t,e)=>e.edgeProximity-t.edgeProximity);let a=Math.min(2,t.length);for(let r=0;r<a;r++)i.push({line:t[r].line,directionIndex:e,edgeProximity:t[r].edgeProximity})}),i.length>o)i.sort((t,e)=>e.edgeProximity-t.edgeProximity),i.slice(0,o).forEach(t=>{t.line.fastSpeed=!0});else{let t=o-i.length;t>0&&e.filter(t=>{if(i.some(e=>e.line===t))return!1;let e=t.object.position;return Math.sqrt(e.x*e.x+e.y*e.y)<=n*E.SCREEN.EDGE_MARGIN}).map(t=>{let e=t.object.position;return{line:t,edgeProximity:Math.sqrt(e.x*e.x+e.y*e.y)/n}}).sort((t,e)=>e.edgeProximity-t.edgeProximity).slice(0,t).forEach(t=>{t.line.fastSpeed=!0}),i.forEach(t=>{t.line.fastSpeed=!0})}}else e.forEach(t=>{t.fastSpeed=!1});e.forEach(e=>{let a;e.phase=t,e.isFloating=!1;let I=e.object.position,N=Math.sqrt(I.x*I.x+I.y*I.y);if(e.targetPosition&&N<.5&&(2===e.phase||3===e.phase))return;a=.1>I.length()?e.originalDir.clone():I.clone().normalize();let[M,l]=E.EXPLOSION.Z_RANGES[t]||[-10,-2],S=c(I,e.originalDir),s=new o.Pa4(I.x,I.y,0);switch(0>S.dot(s)&&S.multiplyScalar(-1),e.type){case"corner":{let a,s;if(2===t){let t=n*E.EXPLOSION.MIN_DISTANCE_RATIO;a=Math.max(N,a=t+Math.pow(Math.random(),2)*(.9*n-t))}else if(3===t){let t=n*E.EXPLOSION.MIN_DISTANCE_RATIO_PHASE3;a=Math.max(N,a=t+Math.pow(Math.random(),2)*(.9*n-t))}else a=n*i*E.EXPLOSION.TYPE_MULTIPLIERS.corner;if(e.fastSpeed&&(2===t||3===t)&&(a=n*E.EXPLOSION.FAST_SPEED_MULTIPLIERS.corner),N>=a){let t=N*E.ANIMATION.FLOAT_AMOUNT_RATIO;s=N+t}else s=a;let O=2!==t&&3!==t||e.fastSpeed?2*n:.85*n,_=Math.min(s=Math.max(s=Math.min(s,O),N),O);s+=(Math.random()-.5)*_*(2===t||3===t?E.EXPLOSION.RANDOM_OFFSET_MULTIPLIER_PHASE2:E.EXPLOSION.RANDOM_OFFSET_MULTIPLIER_NORMAL),2!==t&&3!==t||e.fastSpeed||(s=Math.min(s,.9*n)),s=Math.max(s,N);let h=r(I.z,M,l,!!(e.fastSpeed&&(2===t||3===t))),A=Math.random()*Math.PI*2,d=Math.min(s,O)*(2===t||3===t?E.EXPLOSION.RANDOM_RADIUS_MULTIPLIER_PHASE2:E.EXPLOSION.RANDOM_RADIUS_MULTIPLIER_NORMAL),c=2!==t&&3!==t||e.fastSpeed?d:Math.min(d,.05*n),L=S.x*s+Math.cos(A)*c,P=S.y*s*E.Y_AXIS_COMPRESSION.SUBSEQUENT+Math.sin(A)*c*E.Y_AXIS_COMPRESSION.SUBSEQUENT,T=Math.sqrt(L*L+P*P);if((2===t||3===t)&&!e.fastSpeed){let t=.9*n;if(T>t){let e=t/T;L*=e,P*=e}}e.targetPosition=new o.Pa4(L,P,h);break}case"remain":{let r,s;if(2===t){let t=n*E.EXPLOSION.MIN_DISTANCE_RATIO;r=Math.max(N,r=t+Math.pow(Math.random(),2)*(.9*n-t))}else if(3===t){let t=n*E.EXPLOSION.MIN_DISTANCE_RATIO_PHASE3;r=Math.max(N,r=t+Math.pow(Math.random(),2)*(.9*n-t))}else r=n*i*E.EXPLOSION.TYPE_MULTIPLIERS.remain;if(e.fastSpeed&&(2===t||3===t)&&(r=n*E.EXPLOSION.FAST_SPEED_MULTIPLIERS.remain),N>=r){let t=N*E.ANIMATION.FLOAT_AMOUNT_RATIO;s=N+t}else s=r;let O=Math.max(N,r);s+=(Math.random()-.5)*O*(2===t||3===t?E.EXPLOSION.RANDOM_OFFSET_MULTIPLIER_PHASE2:E.EXPLOSION.RANDOM_OFFSET_MULTIPLIER_NORMAL),s=Math.max(s,N),2!==t&&3!==t||e.fastSpeed||(s=Math.min(s,.95*n));let _=I.z;Math.abs(s-N)>.01&&(_=I.z+a.z*(s-N)*.1+(Math.random()-.5)*.3),_=Math.max(M,Math.min(l,_));let h=Math.random()*Math.PI*2,A=O*(2===t||3===t?E.EXPLOSION.RANDOM_RADIUS_MULTIPLIER_PHASE2:E.EXPLOSION.RANDOM_RADIUS_MULTIPLIER_NORMAL);e.targetPosition=new o.Pa4(S.x*s+Math.cos(h)*A,S.y*s*E.Y_AXIS_COMPRESSION.SUBSEQUENT+Math.sin(h)*A*E.Y_AXIS_COMPRESSION.SUBSEQUENT,_);break}case"normal":{let a,s;if(2===t){let t=n*E.EXPLOSION.MIN_DISTANCE_RATIO;a=Math.max(N,a=t+Math.pow(Math.random(),2)*(.9*n-t))}else if(3===t){let t=n*E.EXPLOSION.MIN_DISTANCE_RATIO_PHASE3;a=Math.max(N,a=t+Math.pow(Math.random(),2)*(.9*n-t))}else a=n*i*E.EXPLOSION.TYPE_MULTIPLIERS.normal;if(e.fastSpeed&&(2===t||3===t)&&(a=n*E.EXPLOSION.FAST_SPEED_MULTIPLIERS.normal),N>=a){let t=N*E.ANIMATION.FLOAT_AMOUNT_RATIO;s=N+t}else s=a;let O=2!==t&&3!==t||e.fastSpeed?2*n:.85*n,_=Math.min(s=Math.max(s=Math.min(s,O),N),O);s+=(Math.random()-.5)*_*(2===t||3===t?E.EXPLOSION.RANDOM_OFFSET_MULTIPLIER_PHASE2:E.EXPLOSION.RANDOM_OFFSET_MULTIPLIER_NORMAL),2!==t&&3!==t||e.fastSpeed||(s=Math.min(s,.9*n)),s=Math.max(s,N);let h=r(I.z,M,l,!!(e.fastSpeed&&(2===t||3===t))),A=Math.random()*Math.PI*2,d=Math.min(s,O)*(2===t||3===t?E.EXPLOSION.RANDOM_RADIUS_MULTIPLIER_PHASE2:E.EXPLOSION.RANDOM_RADIUS_MULTIPLIER_NORMAL),c=2!==t&&3!==t||e.fastSpeed?d:Math.min(d,.05*n),L=S.x*s+Math.cos(A)*c,P=S.y*s*E.Y_AXIS_COMPRESSION.SUBSEQUENT+Math.sin(A)*c*E.Y_AXIS_COMPRESSION.SUBSEQUENT,T=Math.sqrt(L*L+P*P);if((2===t||3===t)&&!e.fastSpeed){let t=.9*n;if(T>t){let e=t/T;L*=e,P*=e}}e.targetPosition=new o.Pa4(L,P,h)}}})},f=()=>{let t=I.current,e=S.current,a=s.current,r=M.current;if(!t||!e||!r)return;let n=d(r)*E.EXPLOSION.MIN_DISTANCE_RATIO,i=E.SECOND_EXPLOSION_NEW_LINES.MIN_COUNT+Math.floor(Math.random()*(E.SECOND_EXPLOSION_NEW_LINES.MAX_COUNT-E.SECOND_EXPLOSION_NEW_LINES.MIN_COUNT+1));for(let t=0;t<i;t++){let t=E.LINE.LENGTH_MIN+Math.random()*(E.LINE.LENGTH_MAX-E.LINE.LENGTH_MIN),r=new o.nls({color:16777215}),i=new o.u9r,I=new Float32Array(6),N=E.EXPLOSION.Z_RANGES[1][0]+Math.random()*(E.EXPLOSION.Z_RANGES[1][1]-E.EXPLOSION.Z_RANGES[1][0]),M=(Math.random()-.5)*2,l=(Math.random()-.5)*.8,S=(Math.random()-.5)*2,s=Math.sqrt(M*M+l*l+S*S),O=M/s,_=l/s,h=S/s,A=t/2,d=0-O*A,c=0-_*A,L=N-h*A,P=0+O*A,T=0+_*A,m=N+h*A;I[0]=d,I[1]=c,I[2]=L,I[3]=P,I[4]=T,I[5]=m,i.setAttribute("position",new o.TlE(I,3));let R=new o.x12(i,r);e.add(R),R.position.set(0,0,N),I[0]=-O*A,I[1]=-_*A,I[2]=-h*A,I[3]=O*A,I[4]=_*A,I[5]=h*A,i.attributes.position.needsUpdate=!0;let u=Math.random()*Math.PI*2,p=n*(.9+.2*Math.random()),x=Math.cos(u)*p,f=Math.sin(u)*p*E.Y_AXIS_COMPRESSION.SUBSEQUENT,g={object:R,originalMid:new o.Pa4(0,0,N),originalDir:new o.Pa4(O,_,h),length:t,exploded:!0,targetPosition:new o.Pa4(x,f,N),targetRotation:null,type:"normal",phase:2,fastSpeed:!1,isFloating:!1};a.push(g)}s.current=a},g=()=>{let t=I.current,e=S.current,a=s.current,r=M.current;if(!t||!e||!r)return;let n=d(r)*E.SCREEN.EDGE_MARGIN,i=[],N=[];a.forEach(t=>{let e=t.object.position;Math.sqrt(e.x*e.x+e.y*e.y)>n?i.push(t):N.push(t)}),i.forEach(t=>{e.remove(t.object),t.object.geometry.dispose(),t.object.material instanceof o.F5T&&t.object.material.dispose()}),s.current=N},D=()=>{1===_.current&&(_.current=2,A(2),null==e||e(2),f(),x(2),setTimeout(()=>{g()},2e3))},U=()=>{T(),P.update(),h.render(r,n),O.current=requestAnimationFrame(U)},w=()=>{let t=I.current,e=S.current,a=s.current,r=M.current;if(!t||!e||!r)return;let n=d(r),i=n*E.EXPLOSION.MIN_DISTANCE_RATIO_PHASE3,N=E.SECOND_EXPLOSION_NEW_LINES.MIN_COUNT+Math.floor(Math.random()*(E.SECOND_EXPLOSION_NEW_LINES.MAX_COUNT-E.SECOND_EXPLOSION_NEW_LINES.MIN_COUNT+1));for(let t=0;t<N;t++){let t=E.LINE.LENGTH_MIN+Math.random()*(E.LINE.LENGTH_MAX-E.LINE.LENGTH_MIN),r=new o.nls({color:16777215}),I=new o.u9r,N=new Float32Array(6),M=E.EXPLOSION.Z_RANGES[3][0]+Math.random()*(E.EXPLOSION.Z_RANGES[3][1]-E.EXPLOSION.Z_RANGES[3][0]),l=(Math.random()-.5)*2,S=(Math.random()-.5)*.8,s=(Math.random()-.5)*2,O=Math.sqrt(l*l+S*S+s*s),_=l/O,h=S/O,A=s/O,d=t/2,c=0-_*d,L=0-h*d,P=M-A*d,T=0+_*d,m=0+h*d,R=M+A*d;N[0]=c,N[1]=L,N[2]=P,N[3]=T,N[4]=m,N[5]=R,I.setAttribute("position",new o.TlE(N,3));let u=new o.x12(I,r);e.add(u),u.position.set(0,0,M),N[0]=-_*d,N[1]=-h*d,N[2]=-A*d,N[3]=_*d,N[4]=h*d,N[5]=A*d,I.attributes.position.needsUpdate=!0;let p=Math.random()*Math.PI*2,x=i+Math.pow(Math.random(),2)*(.9*n-i),f=Math.cos(p)*x,g=Math.sin(p)*x*E.Y_AXIS_COMPRESSION.SUBSEQUENT,D={object:u,originalMid:new o.Pa4(0,0,M),originalDir:new o.Pa4(_,h,A),length:t,exploded:!0,targetPosition:new o.Pa4(f,g,M),targetRotation:null,type:"normal",phase:3,fastSpeed:!1,isFloating:!1};a.push(D)}s.current=a},C=()=>{2===_.current&&(_.current=3,A(3),null==e||e(3),w(),x(3))},X=()=>{0===_.current?p():1===_.current?D():2===_.current&&C()},b=()=>{if(!M.current||!N.current)return;let t=window.innerWidth,e=window.innerHeight;M.current.aspect=t/e,M.current.updateProjectionMatrix(),N.current.setSize(t,e)};return h.domElement.addEventListener("click",X),window.addEventListener("resize",b),U(),()=>{O.current&&cancelAnimationFrame(O.current),h.domElement.removeEventListener("click",X),window.removeEventListener("resize",b),t&&h.domElement&&t.removeChild(h.domElement),h.dispose(),P.dispose()}},[e]),(0,r.jsx)("div",{ref:a,className:"w-full h-full cursor-pointer"})},N=t=>{let{className:e=""}=t,[a,o]=(0,n.useState)(0),[i,E]=(0,n.useState)(!1),[N,M]=(0,n.useState)(0),l=(0,n.useCallback)(t=>{o(t),t>0&&(E(!1),setTimeout(()=>{E(!0),M(t=>t+1)},10))},[]);return(0,r.jsxs)("div",{className:"relative w-full h-screen bg-black overflow-hidden ".concat(e),children:[(0,r.jsx)(I,{onExplosionPhaseChange:l}),i&&(0,r.jsx)("div",{className:"absolute text-white font-sans ".concat((t=>{switch(t){case 1:default:return"text-4xl";case 2:case 4:return"text-6xl";case 3:return"text-8xl";case 5:return"text-7xl"}})(a)," font-bold pointer-events-none"),style:{top:"55%",left:"50%",transform:"translate(-50%, -50%)",animation:"fade-in 2s ease-in-out",color:"#fff",textShadow:"0 0 30px rgba(0, 0, 0, 1), 0 0 20px rgba(0, 0, 0, 1), 0 0 10px rgba(0, 0, 0, 1), 6px 6px 16px rgba(0, 0, 0, 1), -6px -6px 16px rgba(0, 0, 0, 1), 6px -6px 16px rgba(0, 0, 0, 1), -6px 6px 16px rgba(0, 0, 0, 1), 4px 4px 12px rgba(0, 0, 0, 1), -4px -4px 12px rgba(0, 0, 0, 1), 4px -4px 12px rgba(0, 0, 0, 1), -4px 4px 12px rgba(0, 0, 0, 1), 2px 2px 8px rgba(0, 0, 0, 1), -2px -2px 8px rgba(0, 0, 0, 1), 2px -2px 8px rgba(0, 0, 0, 1), -2px 2px 8px rgba(0, 0, 0, 1)",zIndex:1e3},children:(t=>{switch(t){case 1:return"我们是 Web创新实验室";case 2:return"我们是 数字品牌策略师";case 3:return"我们是 界面艺术家";case 4:return"我们是 动态交互架构师";case 5:return"我们是 三维叙事工程师";default:return""}})(a)},N),(0,r.jsx)("div",{className:"absolute top-6 left-0 right-0 text-center text-white font-sans text-lg pointer-events-none z-10",children:(t=>{switch(t){case 0:default:return"点击画面让火柴堆散开";case 1:case 2:case 3:case 4:return"再次点击继续散开";case 5:return"火柴堆已完全散开"}})(a)}),(0,r.jsx)("div",{className:"absolute bottom-6 left-0 right-0 text-center text-white font-sans text-sm pointer-events-none z-10",children:(t=>{switch(t){case 0:default:return"火柴堆线条 - 使用鼠标旋转视角";case 1:return"第一次散开 - 部分线条飞向角落";case 2:case 3:case 4:case 5:return"继续向外扩散"}})(a)}),(0,r.jsx)("div",{className:"absolute top-6 right-6 flex space-x-2 z-10",children:[0,1,2,3,4,5].map(t=>(0,r.jsx)("div",{className:"w-3 h-3 rounded-full transition-colors duration-300 ".concat(a>=t?"bg-white":"bg-gray-500")},t))}),5===a&&(0,r.jsx)("button",{onClick:()=>{o(0),window.location.reload()},className:"absolute bottom-6 left-6 bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg font-sans text-sm transition-all duration-200 z-10",children:"重新开始"})]})}}},function(t){t.O(0,[689,691,971,117,744],function(){return t(t.s=1825)}),_N_E=t.O()}]);